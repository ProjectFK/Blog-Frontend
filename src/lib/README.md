# KCIBALD Blog SDK
A js based sdk for kcibald blog, provides functions to interact with remote like login, retrieve blogs, 
publish blogs, etc.... It also provides some offline functions like password / username validation.

## Data structures:
### `Result<T>`
This is a basic structure for remote interact-based return value, it shows the remote's return value's state, success 
with result or failed with message.<br>
**The result would only return if there's server-side exception / error, client side error will throw an error instead 
of returning and Result object.**
#### Structure:
-   content
    * type: T, object, **nullable**, present if success is true and response body presents
    * content: the result of request
    * example: `Result<Blog>`, the type is Blog
    * **this will be refereed as "content" later in method section**
-   success
    * type: boolean (true/false), non-null
    * content: whether the request is success
    * example: true
-   state_message
    * type: string, non-null
    * content: the state message server response
    * example: success / Internal Error etc...
-   location
    * type: string, **nullable**, present if response 201 CREATED
    * content: the location header of the response
    * example: if uploadBlog(blog) is successful, this value could be `/blog/1`
-   exception
    * type: ExceptionDescriber, object, **nullable**, present if request failed **because of remote's problem**
        * The ExceptionDescriber is used to describe the error returned from remote
        * There are three fields in this object
            * isInternalError: boolean, true if this is cause by internal error from remote (response status 500)
            * isPermissionDenied: boolean, true if is caused access authorized area without authorization
            * exception_msg: The exception message generated by the remote
            * **exception_msg will be refer as `exception message` in method section**
    * content: the ExceptionDescriber which describe the exception encountered
    * example:
      ```json
      {
        "isInternalError": true,
        "isPermissionDenied": false,
        "exception_message": "server room on fire"
      }
      ```
#### Example
```json
{
  "success": false,
  "content": null,
  "exception": {
    "isInternalError": false,
    "isPermissionDenied": false,
    "exception_message": "Name or Password is wrong."
  }
}
```
---------------------------------------
### User
This object describes a standard user
#### Structure
- id
    * type: number, non-null
    * content: the id of the user
    * example: 1

#### Example
```json
{
  "id": 1,
  "username": "someone"
}
```
---------------------------------------

### STILL WORKING ON OTHER DATA STRUCTURES DOCUMENTATION

---------------------------------------

## Login APIS
### Path:
`
sdk.loginApi
`
### Methods

---------------------------------------
### attemptLogin
This is the api that performs an login request, if the request is successes, the authorized cookie will be set by the
server.
#### parameters
1. name
    * type: string, non-null
    * content: user's username
    * requirement: no bigger than 20 or smaller than 2 (can be validate by validators.username)
    * required
2. password
    * type: string, non-null
    * content: user's password
    * requirement: `/^(?=.*?[a-z])(?=.*?[0-9]).{8,20}$/` (can be validate by validators.password)
    * required
3. token
    * type: string, non-null
    * content: google recaptcha token
    * required
#### Throws
- IllegalArgumentException
    * message: `invalidate name or password`
    * condition: if the user name / password is invalid against validators.username or validators.password

#### Return values
Return type: `Result<User>`
##### Success:
If the username and password and recaptcha token is correct, and the user has been authorized
- content: The information about the user
    * type: User, object, non-null
##### Example:
```json
{
  "success": true,
  "content": {
    "id": 1,
    "username": "someone"
  },
  "state_message": "success"
}
```
------------------------------------
##### Failure:
- User name / password wrong or recaptcha fails:
    * success: false
    * content: null
    * exception message: Name or Password is wrong, or recaptcha validation failed 
    * exception.isPermissionDenied = true
    * Example:
```json
{
  "success": false,
  "content": null,
  "exception": {
    "isInternalError": false,
    "isPermissionDenied": true,
    "exception_message": "Name or Password is wrong."
  }
}
```
